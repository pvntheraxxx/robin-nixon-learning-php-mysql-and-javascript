<!-- Пример 21.8. Перехват событий перемещения указателя мыши и нажатия её кнопок -->
<!DOCTYPE html>
<html>
    <head>
        <title>События: Обработка действий с мышью</title>
        <script src='jquery-3.7.1.min.js'></script>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <style>
            #pad {
                background:#def;
                border: 1px solid #aaa;
            }
        </style> 
    </head>
    <body>  
        <canvas id='pad' width='420' height='320'></canvas>
        <script>
            canvas  = $('#pad')[0]
            context = canvas.getContext("2d")
            pendown = false
      
            $('#pad').mousemove(function(event)
            {
              var xpos = event.pageX - canvas.offsetLeft
              var ypos = event.pageY - canvas.offsetTop
      
              if (pendown) context.lineTo(xpos, ypos)
              else         context.moveTo(xpos, ypos)
      
              context.stroke()
            })
      
            $('#pad').mousedown(function() { pendown = true  } )
            $('#pad')  .mouseup(function() { pendown = false } )
          </script>
    </body>
</html>